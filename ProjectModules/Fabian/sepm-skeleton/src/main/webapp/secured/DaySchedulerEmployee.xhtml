<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3c.org/1999/xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/templates/main.xhtml">
    <ui:define name ="content">
        <h:form id="DaySchedulerEmployee">
               <p:panel header="Angemeldete Kinder">
                <p:dataTable id="signedKidsTable" var="todaysKids" value="#{todaysKidsController.getSignedKids()}">
                    <p:column headerText="Name">
                        <h:outputText value="#{todaysKidsController.getName(todaysKids.childId)}"/>
                    </p:column>
                    <p:column headerText="Bring Zeit">
                        <h:outputText value="#{todaysKids.dropOffTime}"/>
                    </p:column>
                    <p:column headerText="Abholzeit">
                        <h:outputText value="#{todaysKids.pickUpTime}"/>
                    </p:column>
                    <p:column headerText="Abholperson">
                        <h:outputText value="#{todaysKids.pickUpPerson}"/>
                    </p:column>
                    <p:column headerText="Mittagessen">
                        <h:outputText value="#{todaysKidsController.kidHasLunch(todaysKids.lunch)}"/>
                    </p:column>
                    <p:column headerText="Geburtstag">
                        <h:outputText value="#{todaysKidsController.kidHasBirthday(todaysKids.childId)}"/>
                    </p:column>
                </p:dataTable>
            </p:panel>
            
            <p:panel header="Tag auswaelhlen">
	        	<p:outputLabel for="date" value="Datum: " />
				<p:calendar id="date" value="#{todaysKidsController.calDate}" onSelectUpdate = "DaySchedulerEmployee:signedKidsTable" >
					<p:ajax event="dateSelect" update="signedKidsTable" render="signedKidsTable" />
				</p:calendar>    
				
            </p:panel>

            <p:panel header="Export All Data">
	            <h:commandLink immediate="true">
	                <p>Excel</p>
	                <p:dataExporter type="xls" target="signedKidsTable" fileName="TagesplanerExcel" />
	            </h:commandLink>
	            <h:commandLink immediate="true">
	                <p>PDF</p>
	                <p:dataExporter type="pdf" target="signedKidsTable" fileName="TagesplanerPDF" />
	            </h:commandLink>
        	</p:panel>
        	
   
            
        </h:form>
    </ui:define>
</ui:composition>